#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Nest the dataset by the two dependent variables
pivot_longer(cols=c(Vote, Participate))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Nest the dataset by the two dependent variables
pivot_longer(cols=c(Vote, Participate), names_to=c("DV"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) glm(vote~sex, data=x, family="binomial")))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) glm(Vote~Sex, data=x, family="binomial")))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV)
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) glm(Vote~Sex, data=x, family="binomial")))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) glm(value~Sex, data=x, family="binomial")))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Vote, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV"))
pol %>%
mutate(vote2=case_when(
Vote==4 ~ `Voted`,
Vote==2~ `Did not vote`,
Vote==1 ~ `Did not vote`,
TRUE ~ NA
))
pol %>%
mutate(vote2=case_when(
Vote==4 ~ `Voted`,
Vote==2~ `Did not vote`,
Vote==1 ~ `Did not vote`,
TRUE ~ NA_character_
))
pol %>%
mutate(vote2=case_when(
Vote==4 ~ "Voted",
Vote==2 ~ "Did not vote",
Vote==1 ~ "Did not vote",
TRUE ~ NA_character_
))
pol %>%
mutate(vote2=case_when(
Vote==4 ~ "Voted",
Vote==2 ~ "Did not vote",
Vote==1 ~ "Did not vote",
TRUE ~ NA_character_
))->pol
#Convert to factor
factor(pol$vote2, levels=c("Did not vote", "Voted"))
#Convert to factor
pol$vote2<-factor(pol$vote2, levels=c("Did not vote", "Voted"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, vote2, Participate, Paper, TV) %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Vote, Participate), names_to=c("DV"))
pol %>%
mutate(vote2=case_when(
Vote==4 ~ "Voted",
Vote==2 ~ "Did not vote",
Vote==1 ~ "Did not vote",
TRUE ~ NA_character_
))->pol
#Convert to factor
pol$vote2<-factor(pol$vote2, levels=c("Did not vote", "Voted"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, vote2, Participate, Paper, TV)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, vote2, Participate, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(vote2, Informed), names_to=c("DV"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, vote2, Informed, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(vote2, Informed), names_to=c("DV"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, vote2, Informed, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(vote2, Informed), names_to=c("DV"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, vote2, Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(vote2, Inform), names_to=c("DV"))
glimpse(pol)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))->mod.df1
glimpse(mod.df1)
modelsummary(mod.df1$model1)
library(modelsummary)
modelsummary(mod.df1$model1)
models <- list()
models[['OLS']] <- lm(mpg ~ factor(cyl), mtcars)
models[['Logit']] <- glm(am ~ factor(cyl), mtcars, family = binomial)
names(models)
models
names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1)
modelsummary(mod.df1$model1, stars=T)
modelsummary(mod.df1$model1, stars=T, gof_map=NA)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))->mod.df1
#names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1, stars=T, gof_omit=c()) %>%
add_header_above("Ethics"=1)
names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1, stars=T, gof_omit=c())
modelsummary(mod.df1$model1, stars=T, gof_omit=c("AIC|BIC|Log.Lik."))
modelsummary(mod.df1$model1, stars=T, gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
modelsummary(mod.df1$model1, mod.df1$model2,stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
modelsummary(list(mod.df1$model1, mod.df1$model2),stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
mod.df1
list(mod.df1$model1, mod.df1$model2)
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))->mod.df1
#names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1, stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
list(mod.df1$model1, mod.df1$model2)
modelsummary(list(mod.df1$model1, mod.df1$model2),stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
list(mod.df1$model1, mod.df1$model2)
modelsummary(list(c(mod.df1$model1, mod.df1$model2)),stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
mod.df1$model1.tidied<-tidy(mod.df1$model1)
mod.df1$model1.tidied<-map(mod.df1$model1, tidy)
mod.df1$model2.tidied<-map(mod.df1$model2, tidy)
modelsummary(list(c(mod.df1$model1.tidied, mod.df1$model2.tidied)),stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
modelsummary(list(c(mod.df1$model1.tidied, mod.df1$model2.tidied)),stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
modelsummary(.$value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
modelsummary(list(.$value))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))->out
out$value
modelsummary(list(out$value))
modelsummary(out$value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
modelsummary(models=value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
modelsummary(models=.$value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
glimpse()
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
extract(., value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
extract2(., value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
select(value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
select(value) %>%
modelsummary(.)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
select(value) %>%
glimpse()
mod.df1 %>%
pivot_longer(., cols=c(model1, model2)) %>%
select(value) %>%
modelsummary(.$value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
library(tidyverse)
pol<-read_csv(file="https://vincentarelbundock.github.io/Rdatasets/csv/Stat2Data/Political.csv")
pol %>%
mutate(vote2=case_when(
Vote==4 ~ "Voted",
Vote==2 ~ "Did not vote",
Vote==1 ~ "Did not vote",
TRUE ~ NA_character_
))->pol
#Convert to factor
pol$vote2<-factor(pol$vote2, levels=c("Did not vote", "Voted"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))->mod.df1
glimpse(mod.df1)
library(modelsummary)
#names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1, stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
modelsummary(.$value)
library(knitr)
purl("index.Rmd")
list.files()
getwd()
blogdown:::new_post_addin()
getwd()
knitr::purl(here("content/post/2023-09-18-reporting-stepwise-regression-models-with-modelsummary/index.Rmd"))
library(here)
knitr::purl(here("content/post/2023-09-18-reporting-stepwise-regression-models-with-modelsummary/index.Rmd"))
knitr::purl(here("content/post/2023-09-18-reporting-stepwise-regression-models-with-modelsummary/index.Rmd"))
## ----import-data-----------------------
library(tidyverse)
pol<-read_csv(file="https://vincentarelbundock.github.io/Rdatasets/csv/Stat2Data/Political.csv")
## --------------------------------------
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))->mod.df1
glimpse(mod.df1)
## --------------------------------------
library(modelsummary)
#names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1, stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
## --------------------------------------
#This does not work.
mod.df1 %>%
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
modelsummary(.$value)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
?pluck
pluck(.$value)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
pluck(.$value)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
extract(.$value)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
extract2(.$value)
library(purrr)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
extract2(.$value)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  %>%
pluck(.$value)
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))
## --------------------------------------
#This does not work.
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  ->out
modelsummary(out$value)
mod.df1 %>%
pivot_longer(., cols=c(model1, model2))  ->mod.df1.out
library(tidyverse)
pol<-read_csv(file="https://vincentarelbundock.github.io/Rdatasets/csv/Stat2Data/Political.csv")
pol %>%
mutate(vote2=case_when(
Vote==4 ~ "Voted",
Vote==2 ~ "Did not vote",
Vote==1 ~ "Did not vote",
TRUE ~ NA_character_
))->pol
#Convert to factor
pol$vote2<-factor(pol$vote2, levels=c("Did not vote", "Voted"))
#import dataset
pol %>%
#Winnow the dataset to variables of interest
select(Sex, Ethics,Inform, Paper, TV)  %>%
# Pivot the dataset so the two dependent variables are in one column
pivot_longer(cols=c(Ethics, Inform), names_to=c("DV")) %>%
#Nest the dataset by each dependent variable
nest(-DV) %>%
#Mutate the dataset addinga list column of models %>%
mutate(model1=map(data, function(x) lm(value~Sex, data=x)),
model2=map(data, function(x) lm(value~Sex+Paper, data=x)),
model3=map(data, function(x) lm(value~Sex+TV, data=x)),
model4=map(data, function(x) lm(value~Sex+TV+Paper, data=x)))->mod.df1
glimpse(mod.df1)
library(modelsummary)
#names(mod.df1$model1)<-c("Ethics", "Informed")
modelsummary(mod.df1$model1, stars=T,
gof_omit=c("AIC|BIC|Log.Lik.|RMSE"))
glimpse(mod.df1.out)
mod.df1 %>%
#Pivot the models of interest into one column
# Store in a new data.frame
pivot_longer(., cols=c(model1, model2))  ->mod.df1
glimpse(mod.df1)
modelsummary(mod.df1$value)
glimpse(mod.df1$value)
glimpse(mod.df1)
mod.df1
library(blogdown)
?new_content
blogdown::new_post()
install.packages("blogdown")
library(blogdown)
new_post(title="The Size of Canada's Public Service")
new_post(title="The Size of Canada's Public Service")
blogdown::install_hugo()
source("~/.Rprofile")
file.edit("~/.Rprofile")
source("~/.Rprofile")
blogdown::install_hugo()
new_post(title="The Size of Canada's Public Service")
new_post(title="The Size of Canada's Public Service")
new_post(title="The Size of Canada's Public Service")
hugo_build()
?shortcode
hugo_build()
hugo_build()
hugo_build()
hugo_build()
library(blogdown)
?new_post
new_post(title="Libertarianism")
new_post(title="Libertarianism", ext='.Rmd')
library(cesdata2)
data("ces21")
lookfor("trans", ces21)
library(labelled)
lookfor("trans", ces21)
names(ces21)
glimpse(ces21)
library(tidyverse)
glimpse(ces21)
data("ces19web")
lookfor("trans", ces19web)
glimpse(ces19web)
lookfor("trans", ces19web)
glimpse(ces19web)
